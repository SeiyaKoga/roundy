"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),n=require("react-use-gesture"),r=e(require("hexoid"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(){var e,t,n=(e=["\n  display: inline-block;\n  position: absolute;\n  width: 210px;\n  height: 210px;\n  @media screen and (min-width: 768px) {\n    height: 310px;\n    width: 310px;\n  }\n  top: -10px;\n  svg path {\n    opacity: 0.7;\n  }\n  .sliderHandle {\n    width: 50%;\n    pointer-events: all;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform-origin: 0 50%;\n    &:after {\n      content: '';\n      display: block;\n      width: 15px;\n      height: 15px;\n      border-radius: 30px;\n      position: absolute;\n      right: -5px;\n      background: linear-gradient(to top, #fff, #f2f2f2);\n      border: 1px solid #ccc;\n      top: -10px;\n      transform: all ease 0.4s;\n    }\n    &:hover:after {\n      box-shadow: 0 0 10px rgb(37, 205, 247);\n    }\n  }\n  ","\n"],t||(t=e.slice(0)),e.raw=t,e);return i=function(){return n},n}var o=e(require("styled-components")).div(i(),(function(e){return e.overrideStyle})),l=Math.PI/180,s=function(e,t){void 0===e&&(e=0);var n=t.min;return(e-n)/(t.max-n)*t.arcSize},u=function(e,t,n){var r=n.radius,a=r-n.strokeWidth/2;return"M "+c(a,e,r)+" A "+a+" "+a+" 0 "+(e<=180?0:1)+" 0 "+c(a,t,r)},c=function(e,t,n){var r=(t-180)*l;return n+e*Math.cos(r)+" "+(n+e*Math.sin(r))},f=function(e,t,n){return e<t&&(e=t),e>n&&(e=n),e},d={color:"purple",bgColor:"#ccc",max:100,min:0,stepSize:0,steps:0,sliced:!0,strokeWidth:4,rotationOffset:0,arcSize:360,value:50,radius:105};exports.default=function(e){var i=a({},d,{},e),l=r(7)(),c=i.color,p=i.bgColor,h=i.max,v=i.min,m=i.steps,g=i.stepSize,x=i.strokeWidth,y=i.radius,k=i.sliced,b=i.style,w=i.arcSize,E=i.rotationOffset,S=i.onAfterChange,M=i.allowClick,O=i.render,z=i.onChange,C=t.useRef(null),j=t.useRef(null),P=t.useRef(!1),R=t.useState({value:i.value,angle:s(i.value,i)}),W=R[0],q=R[1],A=n.useDrag((function(e){var t=e.down,n=e.xy;U(n[0],n[1],t?void 0:function(e){P.current=t,S&&S(e,i)})}));t.useEffect((function(){if(i.value!==W.value){var e={value:i.value,angle:s(i.value,i)};q(e)}}),[i.value]);var N=W.angle,_=m||(g?Math.floor((h-v)/g):0),D="RoundSlider_"+l,H=2*y,I={transform:"rotate("+E+"deg)",transformOrigin:"50% 50%"},U=function(e,t,n){var r,o=function(e,t){var n=e.current.getBoundingClientRect();return{top:n.top+t,left:n.left+t}}(C,y),l=X(function(e,t,n){var r=Math.atan2(e,t)*(180/Math.PI)+180-n;return r>360&&(r-=360),r<0&&(r=360+r),r}(t-o.top,e-o.left,E)),s=l.value,u={value:s,angle:l.angle};r=u,q((function(e){return a({},e,{},r)})),n&&n(u),z&&z(s,i)},X=function(e){var t,n,r=i.steps,a=i.min,o=i.max,l=i.arcSize,u=i.stepSize||(r?(o-a)/r:1),c=W.angle,d=(n=function(e,t){var n=t.min;return e/t.arcSize*(t.max-n)+n}(P.current?c>l-20&&e<l/4?Math.max(e,l):c<20&&e>l-20?Math.min(e,0):e:e,i))-(n-a)%u,p=f(d+u,a,o),h=f(d-u,a,o);return t=n>=d?n-d<p-n?d:p:d-n>n-h?d:h,{value:t=Math.round(t),angle:s(t,i)}};return t.createElement(o,{className:"roundy",onClick:function(e){P.current||U(e.clientX,e.clientY,(function(e){S&&S(e,i)}))},style:M||O?b:a({},b||{},{pointerEvents:"none"})},O?t.createElement("div",Object.assign({className:"roundyRenderPropsParent",ref:C},A(),{style:{width:H,height:H,display:"inline-block"}}),O(W,i)):t.createElement(t.Fragment,null,t.createElement("svg",{ref:C,width:H,height:H},k&&t.createElement("defs",null,t.createElement("mask",{id:D,maskUnits:"userSpaceOnUse",style:I},t.createElement("rect",{x:0,y:0,width:H,height:H,fill:"white"}),Array.from({length:_}).map((function(e,n){return function(e,n){var r=i.radius,a="rotate("+(i.arcSize/e*n+180).toString()+","+r+","+r+")";return t.createElement("g",{key:n,transform:a},t.createElement("line",{x1:r,y1:r,x2:2*r,y2:r,style:{stroke:"rgb(0,0,0)",strokeWidth:2}}))}(_,n)})))),t.createElement("path",{fill:"transparent",strokeDashoffset:"0",strokeWidth:x,stroke:p,mask:k?"url(#"+D+")":void 0,style:I,d:u(Math.min(w,359.9999),0,i)}),t.createElement("path",{fill:"none",strokeWidth:x,stroke:c,mask:k?"url(#"+D+")":void 0,style:I,d:u(Math.min(N,359.9999),0,i)})),t.createElement("div",Object.assign({ref:j,className:"sliderHandle"},A(),{style:{transform:"rotate("+(N+E)+"deg) scaleX(-1)"}}))))};
//# sourceMappingURL=roundy.cjs.production.min.js.map
